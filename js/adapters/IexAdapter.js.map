{"version":3,"sources":["../../src/adapters/IexAdapter.js"],"names":["C","SOURCE","_toArticles","json","Array","isArray","articles","map","headline","item","source","datetime","summary","related","url","_related","split","join","undefined","articleId","generate","title","description","author","publishedAt","IexAdapter","toNews","option","symbol","recent","sortBy","toUpperCase"],"mappings":";;;;;;AAAA;;;;;;AAEA,IAAMA,IAAI;AACRC,UAAQ;AADA,CAAV;;AAIA,IAAMC,cAAc,SAAdA,WAAc,CAACC,IAAD,EAAU;AAC5B,MAAI,CAACC,MAAMC,OAAN,CAAcF,IAAd,CAAL,EAA0B;AACxB,WAAO,EAAP;AACD;;AAED,MAAMG,WAAWH,KAAKI,GAAL,CAAS,gBAAQ;AAAA,QAEtBC,QAFsB,GAMpBC,IANoB,CAEtBD,QAFsB;AAAA,QAEZE,MAFY,GAMpBD,IANoB,CAEZC,MAFY;AAAA,QAGtBC,QAHsB,GAMpBF,IANoB,CAGtBE,QAHsB;AAAA,QAItBC,OAJsB,GAMpBH,IANoB,CAItBG,OAJsB;AAAA,QAIbC,OAJa,GAMpBJ,IANoB,CAIbI,OAJa;AAAA,QAKtBC,GALsB,GAMpBL,IANoB,CAKtBK,GALsB;AAAA,QAOvBC,QAPuB,GAOZF,UACNA,QAAQG,KAAR,CAAc,GAAd,EAAmBC,IAAnB,CAAwB,IAAxB,CADM,GAENC,SATkB;;AAU9B,WAAO;AACLR,cAAQV,EAAEC,MADL;AAELkB,iBAAW,kBAAQC,QAAR,EAFN;AAGLC,aAAOb,QAHF;AAILc,mBAAaV,OAJR;AAKLC,eAASE,QALJ;AAMLQ,cAAQb,MANH;AAOLc,mBAAab,QAPR;AAQLG,WAAKA;AARA,KAAP;AAUH,GApBgB,CAAjB;AAqBA,SAAOR,QAAP;AACD,CA3BD;;AA6BA,IAAMmB,aAAa;AACjBC,QADiB,kBACVvB,IADU,EACJwB,MADI,EACI;AAAA,QACXC,MADW,GACWD,MADX,CACXC,MADW;AAAA,yBACWD,MADX,CACHE,MADG;AAAA,QACHA,MADG,kCACI,EADJ;AAAA,QAEbvB,QAFa,GAEFJ,YAAYC,IAAZ,CAFE;;AAInB,WAAO;AACLO,cAAQV,EAAEC,MADL;AAELK,gBAAUA,QAFL;AAGLwB,cAAWF,OAAOG,WAAP,EAAX,SAAmCF;AAH9B,KAAP;AAKD;AAVgB,CAAnB;;kBAaeJ,U","file":"IexAdapter.js","sourcesContent":["import shortid from 'shortid'\r\n\r\nconst C = {\r\n  SOURCE: 'iex_news'\r\n};\r\n\r\nconst _toArticles = (json) => {\r\n  if (!Array.isArray(json)) {\r\n    return [];\r\n  }\r\n\r\n  const articles = json.map(item => {\r\n      const {\r\n              headline, source,\r\n              datetime,\r\n              summary, related,\r\n              url\r\n            } = item\r\n           , _related = related\r\n                ? related.split(',').join(', ')\r\n                : undefined;\r\n      return {\r\n        source: C.SOURCE,\r\n        articleId: shortid.generate(),\r\n        title: headline,\r\n        description: summary,\r\n        related: _related,\r\n        author: source,\r\n        publishedAt: datetime,\r\n        url: url\r\n      };\r\n  });\r\n  return articles;\r\n}\r\n\r\nconst IexAdapter = {\r\n  toNews(json, option) {\r\n    const { symbol, recent='' } = option\r\n        , articles = _toArticles(json);\r\n\r\n    return {\r\n      source: C.SOURCE,\r\n      articles: articles,\r\n      sortBy: `${symbol.toUpperCase()} ${recent}`\r\n    };\r\n  }\r\n}\r\n\r\nexport default IexAdapter\r\n"]}