{"version":3,"sources":["../../../src/components/panes/NewsPane.jsx"],"names":["CHILD_MARGIN","RESIZE_INIT_WIDTH","RESIZE_MIN_WIDTH","RESIZE_MAX_WIDTH","RESIZE_DELTA","CL","SHOW_POPUP","MENU_MORE","S","ROOT_DIV","backgroundColor","padding","position","borderRadius","height","minHeight","marginLeft","boxShadow","overflowY","overflowX","BT_REMOVE","top","marginRight","SCROLL_DIV","paddingRight","INLINE_BLOCK","display","NONE","_getWidth","style","parseInt","width","_toStyleWidth","NewsPane","props","_onStore","actionType","option","addAction","showAction","toggleAction","id","setState","isShow","articles","data","sortBy","state","prevState","_showMore","isMore","_hToggleMore","_getRootNodeStyle","rootDiv","_resizeTo","_plusToWidth","w","_minusToWidth","_hHide","onClose","_refRootDiv","node","_getRootDiv","childMargin","_widthStyle","has","initWidthStyle","_MODEL","onMinWidth","bind","onInitWidth","onPlusWidth","onMinusWidth","onRemoveItems","componentDidMount","store","unsubscribe","listen","componentWillUnmount","_renderArticles","onCloseItem","onRemoveUnder","Item","map","article","articleId","render","paneCaption","theme","TS","createStyle","styleConfig","_sortBy","_paneCaption","_styleIsShow","_classIsShow","PANE_ROOT","EL_BORDER","PANE_CAPTION","CL_SCROLL_PANE","Component"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\n\r\nimport withTheme from '../hoc/withTheme'\r\nimport styleConfig from './NewsPane.Style'\r\nimport has from '../has'\r\n\r\nimport crModelMore from './crModelMore'\r\nimport A from '../Comp'\r\n\r\nconst CHILD_MARGIN = 36\r\n, RESIZE_INIT_WIDTH = 635\r\n, RESIZE_MIN_WIDTH = 395\r\n, RESIZE_MAX_WIDTH = 1200\r\n, RESIZE_DELTA = 10\r\n, CL = {\r\n  SHOW_POPUP: \"show-popup\",\r\n  MENU_MORE: \"popup-menu items__menu-more\"\r\n};\r\n\r\nconst S = {\r\n  ROOT_DIV : {\r\n    backgroundColor: '#4d4d4d',\r\n    padding : '0px 0px 3px 0px',\r\n    position: 'relative',\r\n    borderRadius: 4,\r\n    height: 'calc(100vh - 71px)',\r\n    minHeight: 500,\r\n    marginLeft: 16,\r\n    boxShadow: '1px 4px 6px 1px rgba(0,0,0,0.6)',\r\n    overflowY: 'hidden',\r\n    overflowX : 'hidden'\r\n  },\r\n  BT_REMOVE: {\r\n    position: 'relative',\r\n    top: -3,\r\n    marginLeft: 16,\r\n    marginRight: 6\r\n  },\r\n  SCROLL_DIV : {\r\n    overflowY: 'auto',\r\n    height: '92%',\r\n    paddingRight: 10\r\n  },\r\n  INLINE_BLOCK : {\r\n    display : 'inline-block'\r\n  },\r\n  NONE : {\r\n    display: 'none'\r\n  }\r\n};\r\n\r\nconst _getWidth = style => parseInt(style.width, 10)\r\n  || RESIZE_INIT_WIDTH;\r\nconst _toStyleWidth = width => width + 'px';\r\n\r\nclass NewsPane extends Component {\r\n\r\n  constructor(props){\r\n    super(props);\r\n    this.childMargin = CHILD_MARGIN;\r\n    this._widthStyle = has.initWidthStyle()\r\n\r\n    this._MODEL = crModelMore({\r\n      onMinWidth: this._resizeTo.bind(this, RESIZE_MIN_WIDTH),\r\n      onInitWidth: this._resizeTo.bind(this, RESIZE_INIT_WIDTH),\r\n      onPlusWidth: this._plusToWidth,\r\n      onMinusWidth: this._minusToWidth,\r\n      onRemoveItems: props.onRemoveItems\r\n    })\r\n\r\n    this.state = {\r\n      isShow: true,\r\n      isMore: false,\r\n      articles: [],\r\n      sortBy: ''\r\n    };\r\n  }\r\n\r\n  componentDidMount(){\r\n    const { store } = this.props;\r\n    this.unsubscribe = store.listen(this._onStore)\r\n  }\r\n  componentWillUnmount(){\r\n    this.unsubscribe()\r\n  }\r\n\r\n   _onStore = (actionType, option={}) => {\r\n      const {\r\n        addAction, showAction, toggleAction,\r\n        id\r\n      } = this.props;\r\n\r\n      if (option.id === id){\r\n        switch(actionType){\r\n          case addAction: {\r\n            this.setState({\r\n              isShow: true,\r\n              articles: option.data,\r\n              sortBy: option.sortBy || this.state.sortBy\r\n            })\r\n            break;\r\n           }\r\n          case showAction:\r\n            this.setState({ isShow: true })\r\n            break;\r\n          case toggleAction:\r\n            this.setState(prevState => ({\r\n              isShow: !prevState.isShow\r\n            }))\r\n            break;\r\n          default: return void 0;\r\n        }\r\n      }\r\n   }\r\n\r\n   _showMore = () => {\r\n      this.setState({ isMore: true })\r\n   }\r\n   _hToggleMore = () => {\r\n     this.setState(prevState => ({\r\n       isMore: !prevState.isMore\r\n     }))\r\n   }\r\n\r\n   _getRootNodeStyle = () => {\r\n     const { rootDiv } = this\r\n     , { style={} } = rootDiv || {};\r\n     return style;\r\n   }\r\n\r\n   _resizeTo = (width) => {\r\n     this._getRootNodeStyle().width = _toStyleWidth(width);\r\n   }\r\n\r\n   _plusToWidth = () => {\r\n     const style = this._getRootNodeStyle()\r\n         , w = _getWidth(style) + RESIZE_DELTA;\r\n     if (w < RESIZE_MAX_WIDTH) {\r\n        style.width = _toStyleWidth(w)\r\n     }\r\n   }\r\n   _minusToWidth = () => {\r\n     const style = this._getRootNodeStyle()\r\n         , w = _getWidth(style) - RESIZE_DELTA;\r\n     if (w > RESIZE_MIN_WIDTH) {\r\n       style.width = _toStyleWidth(w)\r\n     }\r\n   }\r\n\r\n   _hHide = () => {\r\n      const { onClose } = this.props;\r\n      onClose()\r\n      this.setState({ isShow: false })\r\n   }\r\n\r\n  _renderArticles(articles=[], onCloseItem, onRemoveUnder){\r\n     const { Item } = this.props;\r\n     return articles.map(article => (\r\n        <Item\r\n          key={article.articleId}\r\n          item={article}\r\n          onCloseItem={onCloseItem}\r\n          onRemoveUnder={onRemoveUnder}\r\n        />\r\n     ));\r\n  }\r\n\r\n  _refRootDiv = node => this.rootDiv = node\r\n\r\n   render(){\r\n      const {\r\n              paneCaption,\r\n              theme,\r\n              onRemoveItems,\r\n              onRemoveUnder, onCloseItem\r\n            } = this.props\r\n          , TS = theme.createStyle(styleConfig)\r\n          , { isShow, isMore, articles, sortBy } = this.state\r\n          , _sortBy = sortBy ? ': ' + sortBy : ''\r\n          , _paneCaption = `${paneCaption}${_sortBy}`\r\n          , _styleIsShow = isShow\r\n               ? S.INLINE_BLOCK\r\n               : S.NONE\r\n         , _classIsShow = isShow\r\n               ? CL.SHOW_POPUP\r\n               : void 0;\r\n\r\n     return(\r\n        <div\r\n           ref={this._refRootDiv}\r\n           className={_classIsShow}\r\n           style={{\r\n             ...this._widthStyle,\r\n             ...S.ROOT_DIV,\r\n             ...TS.PANE_ROOT,\r\n             ..._styleIsShow\r\n           }}\r\n        >\r\n          <A.ModalSlider\r\n            isShow={isMore}\r\n            className={CL.MENU_MORE}\r\n            style={TS.EL_BORDER}\r\n            model={this._MODEL}\r\n            onClose={this._hToggleMore}\r\n          />\r\n          <A.BrowserCaption\r\n             rootStyle={TS.PANE_CAPTION}\r\n             caption={_paneCaption}\r\n             onMore={this._showMore}\r\n             onClose={this._hHide}\r\n          >\r\n            <A.CircleButton\r\n              caption=\"R\"\r\n              title=\"Remove All Items\"\r\n              style={S.BT_REMOVE}\r\n              onClick={onRemoveItems}\r\n            />\r\n            <A.SvgHrzResize\r\n              minWidth={RESIZE_MIN_WIDTH}\r\n              maxWidth={RESIZE_MAX_WIDTH}\r\n              getDomNode={this._getRootDiv}\r\n            />\r\n          </A.BrowserCaption>\r\n          <A.ScrollPane className={TS.CL_SCROLL_PANE} style={S.SCROLL_DIV}>\r\n              { this._renderArticles(articles, onCloseItem, onRemoveUnder) }\r\n          </A.ScrollPane>\r\n        </div>\r\n     )\r\n   }\r\n\r\n   _getRootDiv = () => {\r\n     return this.rootDiv;\r\n   }\r\n}\r\n\r\nexport default withTheme(NewsPane)\r\n"],"file":"NewsPane.js"}