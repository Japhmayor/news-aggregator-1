{"version":3,"sources":["../../../src/components/dialogs/WebhoseQueryDialog.jsx"],"names":["S","POWERED_BY","marginLeft","marginBottom","DF_SITY_TYPE","caption","value","options","_onTestDaysBefore","_n","parseInt","Number","isNaN","WebhoseQueryDialog","props","_selectSiteType","option","siteType","undefined","_handleLoad","type","source","itemConf","onLoad","requestType","loadId","_inTitle","inputTitle","getValue","_beforeDays","inputBeforeDays","inTitle","beforeDays","_handleClose","dialogComp","focusPrevEl","onClose","_createCommandButtons","RAISED_ROOT","CL_RAISED_DIV","_refDialoComp","comp","_refInputTitle","_refInputBeforeDays","_handleKeyDownWith","bind","isShow","theme","onShow","TS","createStyle","_commandButtons","BT","R_DIALOG","BROWSER_CAPTION","INPUT_ROOT","SELECT"],"mappings":"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","file":"WebhoseQueryDialog.js","sourcesContent":["import React, { Component } from 'react'\r\n\r\nimport withTheme from '../hoc/withTheme'\r\nimport styleConfig from './Dialog.Style'\r\n\r\nimport DraggableDialog from '../zhn-moleculs/DraggableDialog'\r\nimport TextField from '../zhn-m-input/TextField'\r\nimport InputSelect from '../zhn-m-input/InputSelect'\r\nimport PoweredBy from '../links/PoweredBy'\r\nimport Link from '../links/Links'\r\nimport RaisedButton from '../zhn-atoms/RaisedButton'\r\n\r\nimport withKeyDown from './decorators/withKeyDown'\r\n\r\nconst S = {\r\n  POWERED_BY: {\r\n    marginLeft: '16px',\r\n    marginBottom: '8px'\r\n  }\r\n}\r\n\r\nconst DF_SITY_TYPE = {\r\n  caption: 'News', value: 'news'\r\n};\r\n\r\nconst options = [\r\n  { caption: 'News', value: 'news'},\r\n  { caption: 'Blogs', value: 'blogs'}\r\n];\r\n\r\nconst _onTestDaysBefore = (value) => {\r\n  const _n = parseInt(value, 10)\r\n  if ((!Number.isNaN(_n) && _n>0 && _n<31) || value === '') {\r\n    return true;\r\n  } else {\r\n    return false;\r\n  }\r\n}\r\n\r\n@withKeyDown\r\nclass WebhoseQueryDialog extends Component {\r\n  constructor(props){\r\n    super()\r\n    this.siteType = undefined\r\n    this._handleKeyDownWith = this._handleKeyDownWith.bind(this)\r\n  }\r\n\r\n  _selectSiteType = (option) => {\r\n    this.siteType = (option)\r\n       ? option.value\r\n       : undefined\r\n  }\r\n\r\n  _handleLoad = () => {\r\n    const { type, source, itemConf={}, onLoad } = this.props\r\n        , { requestType, loadId } = itemConf\r\n        , _inTitle = this.inputTitle.getValue()\r\n        , _beforeDays = this.inputBeforeDays.getValue();\r\n    onLoad({\r\n      type,\r\n      source,\r\n      requestType,\r\n      itemConf,\r\n      loadId,\r\n      inTitle: _inTitle,\r\n      siteType: this.siteType,\r\n      beforeDays: _beforeDays\r\n    })\r\n  }\r\n\r\n  _handleClose = () => {\r\n    this.dialogComp.focusPrevEl()\r\n    this.props.onClose()\r\n  }\r\n\r\n  _createCommandButtons = (S) => {\r\n    return [\r\n      <RaisedButton\r\n        rootStyle={S.RAISED_ROOT}\r\n        clDiv={S.CL_RAISED_DIV}\r\n        caption=\"Load\"\r\n        isPrimary={true}\r\n        onClick={this._handleLoad}\r\n      />\r\n    ];\r\n  }\r\n\r\n  _refDialoComp = comp => this.dialogComp = comp\r\n  _refInputTitle = comp => this.inputTitle = comp\r\n  _refInputBeforeDays = comp => this.inputBeforeDays = comp\r\n\r\n  render(){\r\n    const { isShow, theme, onShow } = this.props\r\n         , TS = theme.createStyle(styleConfig)\r\n         , _commandButtons = this._createCommandButtons(TS.BT);\r\n\r\n    return (\r\n      <DraggableDialog\r\n           ref={this._refDialoComp}\r\n           rootStyle={TS.R_DIALOG}\r\n           browserCaptionStyle={TS.BROWSER_CAPTION}\r\n           styleButton={TS.BT}\r\n           caption=\"Webhose: News, Blogs\"\r\n           isShow={isShow}\r\n           commandButtons={_commandButtons}\r\n           onKeyDown={this._handleKeyDownWith}\r\n           onShowChart={onShow}\r\n           onClose={this._handleClose}\r\n       >\r\n        <TextField\r\n          rootStyle={TS.INPUT_ROOT}\r\n          ref={this._refInputTitle}\r\n          caption=\"In Title (Default: Weather)\"\r\n          initValue=\"Weather\"\r\n        />\r\n        <InputSelect\r\n          caption=\"Site Type\"\r\n          initItem={DF_SITY_TYPE}\r\n          options={options}\r\n          styleConfig={TS.SELECT}\r\n          onSelect={this._selectSiteType}\r\n        />\r\n        <TextField\r\n          rootStyle={TS.INPUT_ROOT}\r\n          ref={this._refInputBeforeDays}\r\n          caption=\"Before Days (Default: 2, Max 30)\"\r\n          initValue={2}\r\n          errorMsg=\"0<n<31 value must be\"\r\n          onTest={_onTestDaysBefore}\r\n        />\r\n\r\n        <PoweredBy rootStyle={S.POWERED_BY}>\r\n          <Link.WebhoseIo />\r\n        </PoweredBy>\r\n      </DraggableDialog>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withTheme(WebhoseQueryDialog)\r\n"]}