{"version":3,"sources":["../../../src/components/zhn-m-input/TextField.jsx"],"names":["CL","SELECT","LABEL","DIV","INPUT","INPUT_LINE","INPUT_MSG_ERR","S","LABEL_TO_INPUT","transform","LABEL_ON_ERROR","color","LINE_ERROR","borderBottom","_isFn","fn","TextField","props","_hFocusInput","isFocus","forceUpdate","_hBlurInput","_hInputChange","event","value","target","setState","isPassTest","isOnTest","onTest","_hKeyDown","keyCode","isOnEnter","onEnter","id","initValue","_id","_value","state","render","rootStyle","caption","errorMsg","_labelStyle","_labelErrStyle","_lineStyle","getValue","String","trim","Component"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\n\r\nimport crId from '../../utils/crId'\r\n\r\nconst CL = {\r\n  SELECT: 'm-select',\r\n  LABEL: 'm-select__label',\r\n  DIV: 'm-textfield-input__div',\r\n  INPUT: 'm-textfield-input',\r\n  INPUT_LINE: 'm-input__line',\r\n  INPUT_MSG_ERR: 'm-input__msg-err'\r\n};\r\n\r\nconst S = {\r\n  LABEL_TO_INPUT: {\r\n     transform: 'scale(1) translate(0px, -6px)'\r\n  },\r\n  LABEL_ON_ERROR: {\r\n    color: '#f44336'\r\n  },\r\n  LINE_ERROR: {\r\n    borderBottom: '2px solid #F44336'\r\n  }\r\n};\r\n\r\nconst _isFn = fn => typeof fn === 'function';\r\n\r\nclass TextField extends Component {\r\n  constructor(props){\r\n    super(props)\r\n    const { id, initValue, onTest, onEnter } = props;\r\n    this._id = id || crId()\r\n    this.isFocus = false;\r\n    this.isOnTest = _isFn(onTest)\r\n    this.isOnEnter = _isFn(onEnter)\r\n    const _value = initValue || '';\r\n    this.state = {\r\n      value: _value,\r\n      isPassTest: this.isOnTest ? onTest(_value) : true\r\n    }\r\n  }\r\n\r\n  _hFocusInput = () => {\r\n    this.isFocus = true\r\n    this.forceUpdate()\r\n  }\r\n  _hBlurInput = () => {\r\n    this.isFocus = false\r\n    this.forceUpdate()\r\n  }\r\n\r\n  _hInputChange = (event) => {\r\n    const value = event.target.value;\r\n    this.setState({\r\n      value,\r\n      isPassTest: this.isOnTest\r\n        ? this.props.onTest(value)\r\n        : true\r\n    })\r\n  }\r\n _hKeyDown = (event) => {\r\n   const { keyCode } = event;\r\n   if (keyCode === 46 || keyCode === 27){\r\n     this.setState({ value: '' })\r\n   } else if (keyCode === 13 && this.isOnEnter) {\r\n     this.props.onEnter(event.target.value)\r\n   }\r\n }\r\n\r\n  render(){\r\n    const { rootStyle, caption, errorMsg='' } = this.props\r\n        , { value, isPassTest } = this.state\r\n        , _labelStyle = (value || this.isFocus)\r\n            ? void 0\r\n            : S.LABEL_TO_INPUT\r\n        , _labelErrStyle = isPassTest\r\n            ? void 0\r\n            : S.LABEL_ON_ERROR\r\n        , _lineStyle = isPassTest\r\n            ? void 0\r\n            : S.LINE_ERROR;\r\n\r\n    return (\r\n      <div\r\n        className={CL.SELECT}\r\n        style={rootStyle}\r\n      >\r\n        <label\r\n          className={CL.LABEL}\r\n          style={{..._labelStyle, ..._labelErrStyle}}\r\n          htmlFor={this._id}\r\n         >\r\n          {caption}\r\n        </label>\r\n        <div className={CL.DIV}>\r\n          <input\r\n            id={this._id}\r\n            type=\"text\"\r\n            className={CL.INPUT}\r\n            value={value}\r\n            autoComplete=\"new-text\"\r\n            autoCorrect=\"off\"\r\n            autoCapitalize=\"off\"\r\n            spellCheck=\"false\"\r\n            translate=\"false\"\r\n            onFocus={this._hFocusInput}\r\n            onBlur={this._hBlurInput}\r\n            onChange={this._hInputChange}\r\n            onKeyDown={this._hKeyDown}\r\n          />\r\n          <div className={CL.INPUT_LINE} style={_lineStyle} />\r\n          { _lineStyle && <div className={CL.INPUT_MSG_ERR}>{errorMsg}</div>}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  getValue(){\r\n    return String(this.state.value).trim();\r\n  }\r\n}\r\n\r\nexport default TextField\r\n"],"file":"TextField.js"}