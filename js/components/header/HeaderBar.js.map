{"version":3,"sources":["../../../src/components/header/HeaderBar.jsx"],"names":["TITLE","CL","HEADER","PANEL_BROWSER","ICON_APP","LABEL_APP","BROWSER_BTS","ARROW_DOWN","GITHUB_LINK","BTS","BT_ABOUT","HeaderBar","props","_onRegQuery","node","btQueryNode","_handleClickQuery","setState","isQuery","state","_handleCloseQuery","event","contains","target","_handleClickSource","id","onQuery","onStackTagged","onStackSearch","onIex","onNewsSearch","_handleChangeTheme","theme","onChangeTheme","themeName","setThemeName","store","LOADING_ACTIONS","onNewsSources","onSettings","onAbout","S","createStyle","PANE","CL_QUERY_ITEM","bind","onWebhoseBrodcast","BT","FLAT_ROOT","CL_FLAT_DIV"],"mappings":"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","file":"HeaderBar.js","sourcesContent":["import React, { Component } from 'react'\r\n\r\nimport withTheme from '../hoc/withTheme'\r\nimport styleConfig from './HeaderBar.Style'\r\n\r\nimport LoadingProgress from './LoadingProgress'\r\nimport IconAppLogo from './IconAppLogo'\r\nimport AppLabel from './AppLabel'\r\nimport GitHubLink from './GitHubLink'\r\nimport FlatButton from '../zhn-atoms/FlatButton'\r\nimport ModalButton from '../zhn-atoms/ModalButton'\r\nimport PanelQuery from './PanelQuery'\r\n\r\nconst TITLE = \"News Aggregator v0.4.0\";\r\n\r\nconst CL = {\r\n  HEADER: \"header\",\r\n    PANEL_BROWSER: \"header__panel-browser\",\r\n    ICON_APP: \"header__icon-app\",\r\n    LABEL_APP: \"header__label-app\",\r\n    BROWSER_BTS: \"header__browser-bts\",\r\n    ARROW_DOWN: \"arrow-down\",\r\n    GITHUB_LINK: \"header__github-link\",\r\n    BTS: \"header__bts\",\r\n    BT_ABOUT: \"header__bt-about\"\r\n};\r\n\r\nclass HeaderBar extends Component {\r\n  constructor(props){\r\n    super()\r\n    this.state = {\r\n      isQuery: false\r\n    }\r\n  }\r\n\r\n  _onRegQuery = (node) => {\r\n    this.btQueryNode = node\r\n  }\r\n  _handleClickQuery = () => {\r\n    this.setState({ isQuery: !this.state.isQuery })\r\n  }\r\n  _handleCloseQuery = (event) => {\r\n    if (!this.btQueryNode.contains(event.target)){\r\n      this.setState({ isQuery: false })\r\n    }\r\n  }\r\n\r\n  _handleClickSource = (id) => {\r\n    switch(id){\r\n      case 'Webhose':\r\n        this.props.onQuery()\r\n        break;\r\n      case 'StackTagged':\r\n        this.props.onStackTagged()\r\n        break;\r\n      case 'StackSearch':\r\n        this.props.onStackSearch()\r\n        break;\r\n      case 'Iex':\r\n        this.props.onIex()\r\n        break;\r\n      case 'NewsSearch':\r\n        this.props.onNewsSearch()\r\n        break;\r\n      default:\r\n    }\r\n    this._handleClickQuery()\r\n  }\r\n\r\n  _handleChangeTheme = () => {\r\n    const { theme, onChangeTheme } = this.props;\r\n    if (theme.themeName === 'GREY'){\r\n      theme.setThemeName('WHITE')\r\n    } else {\r\n      theme.setThemeName('GREY')\r\n    }\r\n    onChangeTheme()\r\n  }\r\n\r\n  render() {\r\n    const {\r\n            store, LOADING_ACTIONS,\r\n            onNewsSources,\r\n            onSettings, onAbout,\r\n            theme\r\n          } = this.props\r\n        , S = theme.createStyle(styleConfig)\r\n        , { isQuery } = this.state;\r\n    return (\r\n      <div className={CL.HEADER} style={S.HEADER}>\r\n        <PanelQuery\r\n          paneStyle={S.PANE}\r\n          className={CL.PANEL_BROWSER}\r\n          clItem={S.CL_QUERY_ITEM}\r\n          isShow={isQuery}\r\n          onClose={this._handleCloseQuery}\r\n          onWebhose={this._handleClickSource.bind(null, 'Webhose')}\r\n          onWebhoseBrodcast={this.props.onWebhoseBrodcast}\r\n          onStackTagged={this._handleClickSource.bind(null, 'StackTagged')}\r\n          onStackSearch={this._handleClickSource.bind(null, 'StackSearch')}\r\n          onIex={this._handleClickSource.bind(null, 'Iex')}\r\n          onNewsApi={this._handleClickSource.bind(null, 'NewsSearch')}\r\n        />\r\n        <LoadingProgress\r\n           store={store}\r\n           ACTIONS={LOADING_ACTIONS}\r\n        />\r\n        <IconAppLogo\r\n           className={CL.ICON_APP}\r\n           title={TITLE}\r\n           onClick={this._handleChangeTheme}\r\n        />\r\n        <AppLabel\r\n           className={CL.LABEL_APP}\r\n           caption={TITLE}\r\n           title=\"Click to Change UI Theme\"\r\n           onClick={this._handleChangeTheme}\r\n        />\r\n        <span className={CL.BROWSER_BTS}>\r\n          <FlatButton\r\n            rootStyle={S.BT.FLAT_ROOT}\r\n            clDiv={S.BT.CL_FLAT_DIV}\r\n            caption=\"News\"\r\n            title=\"Open News Sources Browser\"\r\n            accessKey=\"n\"\r\n            onClick={onNewsSources}\r\n          />\r\n          <ModalButton\r\n             rootStyle={S.BT.FLAT_ROOT}\r\n             clDiv={S.BT.CL_FLAT_DIV}\r\n             caption=\"Query\"\r\n             title=\"Panel Query Source\"\r\n             accessKey=\"q\"\r\n             onClick={this._handleClickQuery}\r\n             onReg={this._onRegQuery}\r\n          >\r\n            <span className={CL.ARROW_DOWN}></span>\r\n          </ModalButton>\r\n        </span>\r\n        <GitHubLink\r\n          className={CL.GITHUB_LINK}\r\n          title=\"GitHub Repository\"\r\n          href=\"https://github.com/zhnzhn/news-aggregator\"\r\n        />\r\n        <div className={CL.BTS}>\r\n            <FlatButton\r\n              rootStyle={S.BT.FLAT_ROOT}\r\n              clDiv={S.BT.CL_FLAT_DIV}\r\n              caption=\"Settings\"\r\n              title=\"Open Settings Dialog\"\r\n              accessKey=\"s\"\r\n              onClick={onSettings}\r\n            />\r\n            <FlatButton\r\n              className={CL.BT_ABOUT}\r\n              rootStyle={S.BT.FLAT_ROOT}\r\n              clDiv={S.BT.CL_FLAT_DIV}\r\n              caption=\"About\"\r\n              title=\"About\"\r\n              accessKey=\"a\"\r\n              onClick={onAbout}\r\n            />\r\n        </div>\r\n      </div>\r\n     );\r\n   }\r\n}\r\n\r\n\r\nexport default withTheme(HeaderBar)\r\n"]}